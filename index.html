<!DOCTYPE html>
<html>

<head>
    <title>New Year Resolutions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <style type="text/css">
    html,
    body {
        font-family: arial;
        font-size: 14px;
        margin: 0;
        padding: 0;
        width: 100%;
    }
    
    #app {
        padding: 1em;
    }
    
    input {
        width: 80%;
        max-width: 300px;
        padding: 1%;
        margin-right: 1%;
    }
    
    button {
        width: 40%;
        max-width: 180px;
        padding: 1%;
    }
    
    input,
    button {
        display: inline-block;
        padding: 10px 15px;
        font-size: 12px;
    }
    
    input[type="text"].error {
        border: 1px solid red;
        animation-name: burn;
        animation-duration: 1s;
        animation-direction: alternate;
        animation-iteration-count: infinite;
    }
    
    .fire {
        color: red;
        animation-duration: 1s;
        animation-name: fire;
        animation-direction: alternate;
        animation-iteration-count: infinite;
    }
    
    @-webkit-keyframes fire {
        from {
            text-shadow: 0 0 0px red;
        }
        to {
            text-shadow: 0 0 20px red;
        }
    }
    
    @-webkit-keyframes burn {
        from {
            box-shadow: 0 0 0px red;
        }
        to {
            box-shadow: 0 0 20px red;
        }
    }
    </style>
</head>

<body>
    <div id="app">
        <h1>New Year's Resolution</h1>
        <p v-if="goals.length >= 15" :class="{fire: fire}">{{message[2]}}</p>
        <p v-else-if="goals.length > 10" :class="{fire: fire}">{{message[1]}}</p>
        <p v-else>{{message[0]}}</p>
        <div id="user">
            <ol>
                <li v-for="goal in goals" v-text="goal"></li>
            </ol>
        </div>
        <input id="input" type="text" v-model="todos" :class="{error: error}" :disabled="goals.length >= 15" v-show="goals.length < 15">
        <button id="button" @click="addGoal" :disabled="goals.length >= 15" v-text="goals.length >= 15 ? 'Until Next Year' : 'Add Goal' "></button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.3/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.5.3/vue-router.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.1/axios.js"></script>
    <script>
    new Vue({
        el: '#app',
        data: {
            todos: '',
            goals: [],
            error: false,
            disabled: false,
            fire: true,
            message: ['Please set yourself some goals, don\'t be lazy!', 'Please be realistic, you got too many goals!', 'BURNOUT WARNING!'],
            show: true
        },
        methods: {
            addGoal() {
                if (!this.todos) {
                    this.error = true;
                    return;
                }
                this.error = false;
                this.goals.push(this.todos);
                this.todos = '';
            }

        },
        mounted() {
            if (localStorage.getItem('todos'))
                this.goals = JSON.parse(localStorage.getItem('todos'));

        },
        watch: {
            todos: {
                handler() {
                        localStorage.setItem('todos', JSON.stringify(this.goals));
                    },
                    deep: true,
            },
        }

    })
    </script>
</body>

</html>
